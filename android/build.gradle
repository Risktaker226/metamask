// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {

	ext {
		buildToolsVersion = "35.0.0"
		minSdkVersion = project.hasProperty('minSdkVersion') ? project.getProperty('minSdkVersion') : 24
		compileSdkVersion = 35
		targetSdkVersion = 35
		ndkVersion = "26.1.10909125"
		bitriseNdkPath = "/usr/local/share/android-sdk/ndk-bundle"
		kotlin_version = "1.9.25"
		kotlinVersion = "$kotlin_version"
		supportLibVersion = "28.0.0"
	}
	repositories {
		google()
		mavenCentral()
	}

	dependencies {
		// Plugin Android Gradle mis à jour
		classpath("com.android.tools.build:gradle:8.2.1")
		// Plugin React Native Gradle mis à jour selon la version RN récente
    	classpath("com.facebook.react:react-native-gradle-plugin:0.72.0")
		// Plugin Sentry Android mis à jour
		classpath("io.sentry:sentry-android-gradle-plugin:4.11.0")
    	// Plugin Google Services mis à jour
		classpath("com.google.gms:google-services:4.4.3")
	    // Plugin Kotlin Gradle avec version correspondant à kotlin_version
	    classpath("org.jetbrains.kotlin:kotlin-gradle-plugin:1.9.25")
	}
	allprojects {
    	repositories {
        	maven {
          		url("$rootDir/../node_modules/detox/Detox-android")
        	}
        	// Notifee repository
        	maven {
            	url(new File(['node', '--print', "require.resolve('@notifee/react-native/package.json')"].execute(null, rootDir).text.trim(), '../android/libs'))
        	}
        	maven { url "https://jitpack.io" }
    	}
	}
}
